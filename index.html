
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebXR AR Sample</title>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        font-family: sans-serif;
      }
      #start-ar {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        padding: 12px 24px;
        font-size: 16px;
        background: #333;
        color: #fff;
        border: none;
        border-radius: 8px;
        z-index: 2;
      }
    </style>
  </head>
  <body>
    <button id="start-ar">積み木を置く</button>
    <script type="module">
      let xrSession = null;

      document.getElementById('start-ar').addEventListener('click', async () => {
        if (navigator.xr) {
          try {
            const supported = await navigator.xr.isSessionSupported('immersive-ar');
            if (supported) {
              xrSession = await navigator.xr.requestSession('immersive-ar', {
                requiredFeatures: ['hit-test', 'dom-overlay'],
                domOverlay: { root: document.body }
              });
              // Set up XR rendering (placeholder)
              console.log('XR Session started');
            } else {
              alert('AR not supported');
            }
          } catch (err) {
            console.error('Failed to start AR session', err);
          }
        } else {
          alert('WebXR not supported');
        }
      });
    </script>
  </body>
</html>
